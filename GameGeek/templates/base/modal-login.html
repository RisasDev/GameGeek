{% load static %}

<!-- Modal Login -->
<div class="modal fade" id="modal-login" tabindex="-1" aria-labelledby="modal-logi" aria-hidden="true">
  <div class="modal-dialog modal-right">
    <div class="modal-content">
      <div class="modal-body">
        {% if request.user.is_authenticated %}
        
        <h1>Bienvenido {{ request.user.nombre }}</h1>
        <p>¿Qué deseas hacer?</p>
        <a href="#profile" class="btn btn-orange">Mi perfil</a>
        <a href="#cart" class="btn btn-orange">Mi carrito</a>
        <a href="{% url 'api/logout' %}" class="btn btn-orange">Cerrar sesión</a>

        {% else %}

        <div class="text-center mb-3">
          <img src="{% static 'img/gamegeek/gg-na-junto.png' %}" alt="GameGeek" width="300px" />
        </div>
        <form method="POST" id="form-modal-login">
          <div>
            <label for="rut-modal-login">RUT <span class="form-alert">*</span></label>
            <input type="text" class="form-control" id="rut-modal-login" name="rut-modal-login"
              placeholder="Ej: 12345678-K" />
          </div>
          <div id="rut-modal-feedback"></div>

          <div class="mt-2">
            <label for="password-modal-login">Contraseña <span class="form-alert">*</span></label>
            <div class="input-group">
              <input type="password" class="form-control" id="password-modal-login" name="password-modal-login"
                placeholder="**************" />
              <button class="btn btn-outline-secondary" type="button" id="modal-toggle-password">
                <i class="bi bi-eye"></i>
              </button>
            </div>
          </div>
          <div id="password-modal-feedback"></div>

          <a href="{% url 'password-recovery'%}">
            <p class="mt-3 mb-3 txt-orange-transition text-center txt-color-secondary">
              ¿Olvidaste tu contraseña?
            </p>
          </a>

          <!-- Boton de iniciar sesion -->
          <div class="mt-3 text-center d-grid gap-2">
            <button type="button" class="btn btn-orange" id="button-modal-login">
              Iniciar sesión
            </button>
          </div>
        </form>

        <!-- Boton de registrarse -->
        <div class="mt-3 text-center d-grid gap-2">
          <a href="{% url 'register' %}" class="btn btn-orange">¿No tienes cuenta? Registrate</a>
        </div>
        {% endif%}
      </div>
    </div>
  </div>
</div>